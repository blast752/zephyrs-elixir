<UserControl x:Class="ZephyrsElixir.UI.Pages.Home"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:visuals="clr-namespace:ZephyrsElixir.UI.Visuals"
             xmlns:h="clr-namespace:ZephyrsElixir.UI.Helpers"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1200">

    <UserControl.Resources>
        <Storyboard x:Key="Anim.RotateRing">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                             From="0" To="360" Duration="0:0:10" RepeatBehavior="Forever"/>
        </Storyboard>
        <Storyboard x:Key="Anim.RotateRingReverse">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                             From="360" To="0" Duration="0:0:15" RepeatBehavior="Forever"/>
        </Storyboard>

        <Storyboard x:Key="Anim.PulseGlow">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                             From="0.95" To="1.05" Duration="0:0:2.5" AutoReverse="True" RepeatBehavior="Forever"
                             EasingFunction="{StaticResource App.Easing.Smooth}"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                             From="0.95" To="1.05" Duration="0:0:2.5" AutoReverse="True" RepeatBehavior="Forever"
                             EasingFunction="{StaticResource App.Easing.Smooth}"/>
        </Storyboard>

        <Storyboard x:Key="Anim.Entry">
            <DoubleAnimation Storyboard.TargetName="HeroCard" Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.7" EasingFunction="{StaticResource App.Easing.Smooth}"/>
            <DoubleAnimation Storyboard.TargetName="HeroCard" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                             From="40" To="0" Duration="0:0:0.7" EasingFunction="{StaticResource App.Easing.Smooth}"/>
            <DoubleAnimation Storyboard.TargetName="PartnerBanner" Storyboard.TargetProperty="Opacity"
                             From="0" To="1" BeginTime="0:0:0.3" Duration="0:0:0.7" EasingFunction="{StaticResource App.Easing.Smooth}"/>
            <DoubleAnimation Storyboard.TargetName="PartnerBanner" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                             From="20" To="0" BeginTime="0:0:0.3" Duration="0:0:0.7" EasingFunction="{StaticResource App.Easing.Smooth}"/>
            <DoubleAnimation Storyboard.TargetName="FooterPanel" Storyboard.TargetProperty="Opacity"
                             From="0" To="1" BeginTime="0:0:0.5" Duration="0:0:0.6"/>
            <DoubleAnimation Storyboard.TargetName="FooterPanel" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                             From="20" To="0" BeginTime="0:0:0.5" Duration="0:0:0.6"/>
        </Storyboard>

        <LinearGradientBrush x:Key="Home.Brush.Background" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0A142D" Offset="0.0"/>
            <GradientStop Color="#192850" Offset="1.0"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="Home.Brush.Title" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="White" Offset="0"/>
            <GradientStop Color="#B4DCFF" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="Home.Brush.Banner" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#2800C853" Offset="0.0"/>
            <GradientStop Color="#28007FFF" Offset="1.0"/>
        </LinearGradientBrush>
        <RadialGradientBrush x:Key="Home.Brush.MascotGlow" Center="0.5,0.5" GradientOrigin="0.5,0.5">
            <GradientStop Color="#64007FFF" Offset="0"/>
            <GradientStop Color="Transparent" Offset="1"/>
        </RadialGradientBrush>
    </UserControl.Resources>

    <Grid Background="{StaticResource Home.Brush.Background}">
        <visuals:UltraParticleLayer Opacity="0.6"/>

        <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,20">

                <Border x:Name="HeroCard"
                        Width="700" MinWidth="600" Padding="40" CornerRadius="35"
                        Background="#281E3C6E" BorderBrush="#6400BFFF" BorderThickness="2"
                        RenderTransformOrigin="0.5,0.5">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="50" ShadowDepth="0" Color="#007FFF" Opacity="0.6"/>
                    </Border.Effect>
                    <Border.RenderTransform>
                        <TranslateTransform Y="40"/>
                    </Border.RenderTransform>

                    <StackPanel HorizontalAlignment="Center">
                        <Grid Width="370" Height="370" Margin="0,0,0,20">
                            <Ellipse x:Name="MascotGlow" Width="360.75" Height="360.75"
                                     Fill="{StaticResource Home.Brush.MascotGlow}"
                                     RenderTransformOrigin="0.5,0.5">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="30"/>
                                </Ellipse.Effect>
                                <Ellipse.RenderTransform>
                                    <ScaleTransform/>
                                </Ellipse.RenderTransform>
                            </Ellipse>

                            <Ellipse Width="351.5" Height="351.5" StrokeThickness="2.775"
                                     Stroke="{StaticResource App.Brush.Gold}"
                                     RenderTransformOrigin="0.5,0.5">
                                <Ellipse.RenderTransform>
                                    <RotateTransform/>
                                </Ellipse.RenderTransform>
                                <Ellipse.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard Storyboard="{StaticResource Anim.RotateRing}"/>
                                    </EventTrigger>
                                </Ellipse.Triggers>
                            </Ellipse>

                            <Ellipse Width="333" Height="333" StrokeThickness="2.3125"
                                     Stroke="{StaticResource App.Brush.DeepSkyBlue}"
                                     RenderTransformOrigin="0.5,0.5">
                                <Ellipse.RenderTransform>
                                    <RotateTransform/>
                                </Ellipse.RenderTransform>
                                <Ellipse.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard Storyboard="{StaticResource Anim.RotateRingReverse}"/>
                                    </EventTrigger>
                                </Ellipse.Triggers>
                            </Ellipse>

                            <Image Source="pack://application:,,,/Assets/Images/mascotte.png"
                                   Width="323.75" Height="323.75" Stretch="Uniform"/>
                        </Grid>

                        <TextBlock Text="{h:Translate Home_Title}"
                                   FontSize="42" FontWeight="Bold"
                                   TextAlignment="Center" Margin="0,10"
                                   Foreground="{StaticResource Home.Brush.Title}">
                            <TextBlock.Effect>
                                <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="2" Opacity="0.5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <TextBlock Text="{h:Translate Home_Subtitle}"
                                   FontSize="18" Foreground="#C8DCFF" Opacity="0.8"
                                   TextAlignment="Center" TextWrapping="Wrap"
                                   MaxWidth="450" Margin="0,0,0,35"/>

                        <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button x:Name="BtnOptimize"
                                    Content="{h:Translate Home_Button_StartOptimization}" Tag="&#xE777;"
                                    ToolTip="{h:Translate Home_Button_StartOptimization_Tooltip}"
                                    Click="OnStartOptimizationClick"
                                    Style="{StaticResource App.Style.Button}" Margin="5"/>
                            <Button x:Name="BtnWireless"
                                    Content="{h:Translate Home_Button_WirelessConnection}" Tag="&#xE839;"
                                    ToolTip="{h:Translate Home_Button_WirelessConnection_Tooltip}"
                                    Click="OnWirelessConnectionClick"
                                    Style="{StaticResource App.Style.Button}" Margin="5"/>
                        </WrapPanel>
                    </StackPanel>
                </Border>

                <Border x:Name="PartnerBanner"
                        Width="650" Margin="0,20,0,0" Padding="15" CornerRadius="16"
                        Background="{StaticResource Home.Brush.Banner}"
                        BorderBrush="#3C00FF80" BorderThickness="1"
                        Cursor="Hand" MouseLeftButtonUp="OnBannerClick"
                        RenderTransformOrigin="0.5,0.5">
                    <Border.RenderTransform>
                        <TranslateTransform Y="20"/>
                    </Border.RenderTransform>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Border Width="48" Height="48" CornerRadius="12"
                                Background="#32FFFFFF" Margin="0,0,15,0" ClipToBounds="True">
                            <Image Source="pack://application:,,,/Assets/Images/batteryguru.png" Stretch="Uniform"/>
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="{h:Translate Home_Banner_RecommendedPartner}"
                                       FontSize="10" FontWeight="Bold" Foreground="#96FFFFFF"/>
                            <TextBlock Text="{h:Translate Home_Banner_BatteryGuru}"
                                       FontSize="15" FontWeight="SemiBold" Foreground="White" Margin="0,2,0,0"/>
                        </StackPanel>

                        <Button Grid.Column="2"
                                Click="OnBannerCloseClick"
                                Style="{StaticResource App.Style.Button.IconOnly}"
                                VerticalAlignment="Top">
                            <TextBlock Text="&#xE8BB;"
                                       FontFamily="Segoe MDL2 Assets"
                                       FontSize="12" Foreground="#B4FFFFFF"/>
                        </Button>
                    </Grid>
                </Border>

                <Border x:Name="FooterPanel"
                        HorizontalAlignment="Center" Margin="0,20,0,0" Padding="12,8"
                        CornerRadius="14" BorderThickness="1"
                        Background="#1E007FFF" BorderBrush="#3C00BFFF"
                        RenderTransformOrigin="0.5,0.5">
                    <Border.RenderTransform>
                        <TranslateTransform Y="20"/>
                    </Border.RenderTransform>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE946;"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="14" Foreground="#B0B8C8"
                                   VerticalAlignment="Center" Margin="2,0,8,0"/>
                        <TextBlock x:Name="TxtVersion" 
                                   FontSize="14" Foreground="#C8DCFF" VerticalAlignment="Center"/>
                        <Border Width="1" Height="16" Background="#50C8DCFF" Margin="12,0"/>
                        <Button Content="{h:Translate Home_Changelog}" Click="OnChangelogClick"
                                Style="{StaticResource App.Style.Button.Link}"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>