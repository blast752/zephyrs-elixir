<Window x:Class="ZephyrsElixir.OptimizationReportDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:h="clr-namespace:ZephyrsElixir.UI.Helpers"
        Title="Optimization Complete" 
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize" ShowInTaskbar="False"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent"
        Width="480" SizeToContent="Height">
    
    <Border Style="{StaticResource App.Style.OverlayContainer}" Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <StackPanel HorizontalAlignment="Center" Margin="0,0,0,24">
                <Border Width="72" Height="72" CornerRadius="36" Margin="0,0,0,16"
                        Background="{StaticResource App.Brush.IconCircle}">
                    <Border.Effect>
                        <DropShadowEffect Color="#00BFFF" BlurRadius="20" ShadowDepth="0" Opacity="0.6"/>
                    </Border.Effect>
                    <TextBlock Text="&#xE73E;" FontFamily="Segoe MDL2 Assets" FontSize="36" 
                               Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Optimization Complete!" FontSize="22" FontWeight="Bold" 
                           Foreground="White" HorizontalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,8,0,0">
                    <TextBlock Text="Total freed: " FontSize="14" Foreground="#90A0B8"/>
                    <TextBlock x:Name="TotalFreed" Text="0 MB" FontSize="14" FontWeight="SemiBold" 
                               Foreground="{StaticResource App.Brush.Gold}"/>
                </StackPanel>
            </StackPanel>
            
            <ScrollViewer Grid.Row="1" MaxHeight="340" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    
                    <Border x:Name="MemorySection" Visibility="Collapsed" 
                            Background="#15007FFF" CornerRadius="12" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border Width="40" Height="40" CornerRadius="10" Background="#2500BFFF" Margin="0,0,14,0">
                                <TextBlock Text="&#xEBFC;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                           Foreground="#00BFFF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Memory Management" FontSize="14" FontWeight="SemiBold" Foreground="White"/>
                                <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                    <TextBlock Text="RAM freed: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="MemoryFreed" Text="0 MB" FontSize="12" FontWeight="SemiBold" Foreground="#64D6FF"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,2,0,0">
                                    <TextBlock Text="Apps stopped: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="AppsKilledCount" Text="0" FontSize="12" FontWeight="SemiBold" Foreground="#64D6FF"/>
                                </StackPanel>
                                <StackPanel x:Name="AppsPanel" Visibility="Collapsed" Margin="0,6,0,0"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <Border x:Name="StorageSection" Visibility="Collapsed"
                            Background="#15FFD700" CornerRadius="12" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border Width="40" Height="40" CornerRadius="10" Background="#25FFD700" Margin="0,0,14,0">
                                <TextBlock Text="&#xEDA2;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                           Foreground="#FFD700" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Storage Deep Clean" FontSize="14" FontWeight="SemiBold" Foreground="White"/>
                                <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                    <TextBlock Text="Space freed: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="StorageFreed" Text="0 MB" FontSize="12" FontWeight="SemiBold" Foreground="#FFE066"/>
                                </StackPanel>
                                <StackPanel x:Name="CleanedPanel" Visibility="Collapsed" Margin="0,6,0,0"/>
                                <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                    <TextBlock Text="SSD/UFS TRIM: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="TrimStatus" Text="—" FontSize="12" FontWeight="SemiBold"/>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <Border x:Name="NetworkSection" Visibility="Collapsed"
                            Background="#1500E676" CornerRadius="12" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border Width="40" Height="40" CornerRadius="10" Background="#2500E676" Margin="0,0,14,0">
                                <TextBlock Text="&#xE839;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                           Foreground="#00E676" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Network Optimization" FontSize="14" FontWeight="SemiBold" Foreground="White"/>
                                <TextBlock Text="✓ Background scans disabled" FontSize="12" Foreground="#80E8B0" Margin="0,4,0,0"/>    
                                <TextBlock Text="✓ Network caches refreshed" FontSize="12" Foreground="#80E8B0" Margin="0,2,0,0"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <Border x:Name="CompilationSection" Visibility="Collapsed"
                            Background="#15A855F7" CornerRadius="12" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border Width="40" Height="40" CornerRadius="10" Background="#25A855F7" Margin="0,0,14,0">
                                <TextBlock Text="&#xE943;" FontFamily="Segoe MDL2 Assets" FontSize="18" 
                                           Foreground="#A855F7" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Package Compilation" FontSize="14" FontWeight="SemiBold" Foreground="White"/>
                                <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                    <TextBlock Text="Mode: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="CompilationMode" Text="speed" FontSize="12" FontWeight="Bold" 
                                               Foreground="#C4A8FF"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,2,0,0">
                                    <TextBlock Text="DEX optimization: " FontSize="12" Foreground="#90A0B8"/>
                                    <TextBlock x:Name="DexStatus" Text="—" FontSize="12" FontWeight="SemiBold"/>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                </StackPanel>
            </ScrollViewer>
            
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,16,0,0">
                <TextBlock Text="★★★★★" FontSize="24" Foreground="{StaticResource App.Brush.Gold}">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#FFD700" BlurRadius="10" ShadowDepth="0" Opacity="0.5"/>
                    </TextBlock.Effect>
                </TextBlock>
            </StackPanel>
            
            <Button Grid.Row="3" Style="{StaticResource App.Style.Button}"
                    Content="Done" Tag="&#xE73E;" 
                    MinWidth="140" Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    h:WindowClose.Result="True"/>
        </Grid>
    </Border>
</Window>
